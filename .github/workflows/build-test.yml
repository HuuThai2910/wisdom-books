name: Build and Test

on:
    pull_request:
        branches:
            - main
            - develop
    push:
        branches-ignore:
            - main
            - develop

jobs:
    build:
        runs-on: ubuntu-latest

        steps:
            - name: ğŸ” Checkout code
              uses: actions/checkout@v4

            - name: â˜• Setup Java 21
              uses: actions/setup-java@v4
              with:
                  distribution: "temurin"
                  java-version: "21"
                  cache: "maven"

            - name: ğŸ”¨ Build with Maven
              run: |
                  cd backend
                  chmod +x mvnw
                  ./mvnw clean package -DskipTests

            - name: âœ… Build Success
              run: |
                  echo "âœ… Build completed successfully!"
                  ls -lh backend/target/*.jar
